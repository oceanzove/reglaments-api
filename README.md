# Regulations API Documentation

**Regulations API** — это серверная часть системы, предназначенной для работы с регламентами и процессами в Базе знаний. API предоставляет функции по управлению процессами, созданию регламентов, работе с инструкциями и наборами инструментов, динамическими полями.

---

## Структура базы данных

Структура базы данных и первые тестовые данные хранятся в SQL файлах в директории `migrations/init`.

---

## Начало работы

### Необходимые условия

- **Git** для клонирования репозитория.
- **Go** версии 1.22 или выше.
- **Docker** версии 20.10+.
- **Docker Compose** версии 1.29+.
- Вам понадобится файл `.env` для загрузки переменных окружения или переменные окружения, установленные нх переменных

### Переменные окружения

Сервер полагается на определенные переменные окружения для настройки. Эти переменные загружаются либо из файла `.env`,
либо напрямую из среды окружения системы.

Структура переменных окружения определена следующим образом:

- `DB_PASSWORD`: Пароль, для подключения к базе данных

## Конфигурация сервера

API использует конфигурационный файл `configs/config.json` для настройки параметров сервера и базы данных. Пример структуры файла:

```json
{
  "server": {
    "server_port": "25504",
    "jwt_secret_key": "key"
  },
  "regulations-database": {
    "db_host": "localhost",
    "db_port": "5433",
    "db_username": "postgres",
    "db_name": "postgres",
    "db_ssl_mode": "disable"
  }
}
```
### Параметры:
- **server_port**: Порт, на котором запускается сервер.
- **jwt_secret_key**: Секретный ключ для подписывания JWT токенов.
- **db_host**: Адрес хоста базы данных.
- **db_port**: Порт базы данных.
- **db_username**: Имя пользователя базы данных.
- **db_name**: Название базы данных.
- **db_ssl_mode**: Режим SSL для соединения с базой данных (например, `disable`, `require`).

---

## Аутентификация

Все запросы к API защищены и требуют авторизации через токен.

### Аутентификация через JWT
1. Получите токен, отправив запрос на соответствующую конечную точку аутентификации.
2. Добавьте токен в заголовок запроса:

```
Authorization: Bearer <ваш-токен>
```

---

